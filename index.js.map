{"version":3,"file":"index.js","sources":["../src/js/izi-toasts.js","../src/js/locale-storage.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction errorAllert(message) {\n  iziToast.error({\n    timeout: 3000,\n    message: `${message}`,\n    position: 'topRight',\n    backgroundColor: 'rgba(239, 64, 64, 0.99)',\n    messageColor: '#FFFFFF',\n    icon: '',\n    close: false,\n  });\n}\n\nexport { errorAllert };\n","// const searchForm = document.querySelector('.search-form');\nconst LOCALSTORAGE_KEY = 'search-form-state';\n\nfunction setInputDataToLocalStorage(event) {\n  const query = event.target.form.elements.searchQuery.value.trim();\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(query));\n}\n\nfunction populateInputData(searchForm) {\n  const inputValue = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n  if (inputValue) {\n    searchForm.elements.searchQuery.value = inputValue;\n  }\n}\n\nfunction removeFromLS() {\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\nexport { setInputDataToLocalStorage, populateInputData, removeFromLS };\n","// функції для HTTP-запитів\nconst API_KEY = `30636701-b7bfaf1719dc5d89c8acde7b5`;\nconst BASE_URL = `https://pixabay.com/api/`;\n\nconst searchParams = new URLSearchParams({\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nfunction getPhotos(query) {\n  return fetch(`${BASE_URL}?${searchParams}&q=${query}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n\nexport { getPhotos };\n","// функції для відображення елементів інтерфейсу.\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst gallery = document.querySelector('.gallery');\n\nfunction renderGallery(images) {\n  const markup = images.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n            <div class=\"photo-card\">\n              <a href=\"${largeImageURL}\" class=\"img-link\">\n                  <img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" width=360px; loading=\"lazy\" />\n              </a>\n              <div class=\"info\">\n                  <p class=\"info-item\">\n                      <b>Likes </b>${likes}\n                  </p>\n                  <p class=\"info-item\">\n                      <b>Views </b>${views}\n                  </p>\n                  <p class=\"info-item\">\n                      <b>Comments </b>${comments}\n                  </p>\n                  <p class=\"info-item\">\n                      <b>Downloads </b>${downloads}\n                  </p>\n              </div>\n            </div>\n        `;\n      }\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  new SimpleLightbox('ul.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  }).refresh();\n}\n\nfunction resetGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction renderLoader() {\n  gallery.innerHTML = '<span class=\"loader\"></span>';\n}\n\nfunction resetLoader() {\n  gallery.innerHTML = '';\n}\n\nexport { renderGallery, resetGallery, renderLoader, resetLoader };\n","import { errorAllert } from './js/izi-toasts';\nimport {\n  populateInputData,\n  setInputDataToLocalStorage,\n  removeFromLS,\n} from './js/locale-storage';\nimport { getPhotos } from './js/pixabay-api';\nimport {\n  renderGallery,\n  resetGallery,\n  renderLoader,\n  resetLoader,\n} from './js/render-functions';\n\nconst searchForm = document.querySelector('.form');\n\npopulateInputData(searchForm);\n\nsearchForm.addEventListener('input', setInputDataToLocalStorage);\nsearchForm.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  const query = event.currentTarget.elements.searchQuery.value.trim();\n    if (query === '') {\n      errorAllert('Enter your search request');\n    return;\n  }\n\n    resetGallery();\n    renderLoader();\n  getPhotos(query)\n    .then(photos => {\n      if (photos.total === 0) {\n        errorAllert(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n          resetLoader();\n        resetGallery();\n        return;\n      }\n        resetLoader();\n      renderGallery(photos);\n    })\n    .catch(error => {\n      errorAllert(`Error ${error}`);\n    })\n    .finally(() => {\n      searchForm.reset();\n    });\n  event.target.reset();\n  removeFromLS();\n}\n\n// function setInputDataToLocalStorage(event) {\n//   const query = event.target.form.elements.searchQuery.value.trim();\n//   localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(query));\n// }\n\n// function populateInputData() {\n//   const inputValue = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n//   if (inputValue) {\n//     searchForm.elements.searchQuery.value = inputValue;\n//   }\n// }\n"],"names":["errorAllert","message","iziToast","LOCALSTORAGE_KEY","setInputDataToLocalStorage","event","query","populateInputData","searchForm","inputValue","removeFromLS","API_KEY","BASE_URL","searchParams","getPhotos","res","gallery","renderGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","resetGallery","renderLoader","resetLoader","onSubmitForm","photos","error"],"mappings":"6vBAGA,SAASA,EAAYC,EAAS,CAC5BC,EAAS,MAAM,CACb,QAAS,IACT,QAAS,GAAGD,CAAO,GACnB,SAAU,WACV,gBAAiB,0BACjB,aAAc,UACd,KAAM,GACN,MAAO,EACX,CAAG,CACH,CCZA,MAAME,EAAmB,oBAEzB,SAASC,EAA2BC,EAAO,CACzC,MAAMC,EAAQD,EAAM,OAAO,KAAK,SAAS,YAAY,MAAM,OAC3D,aAAa,QAAQF,EAAkB,KAAK,UAAUG,CAAK,CAAC,CAC9D,CAEA,SAASC,EAAkBC,EAAY,CACrC,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQN,CAAgB,CAAC,EAChEM,IACFD,EAAW,SAAS,YAAY,MAAQC,EAE5C,CAEA,SAASC,GAAe,CACtB,aAAa,WAAWP,CAAgB,CAC1C,CChBA,MAAMQ,EAAU,qCACVC,EAAW,2BAEXC,EAAe,IAAI,gBAAgB,CACvC,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAED,SAASG,EAAUR,EAAO,CACxB,OAAO,MAAM,GAAGM,CAAQ,IAAIC,CAAY,MAAMP,CAAK,EAAE,EAAE,KAAKS,GAAO,CACjE,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCfA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAcC,EAAQ,CAC7B,MAAMC,EAASD,EAAO,KACnB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,yBAEUL,CAAa;AAAA,0CACID,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qCAI/BC,CAAK;AAAA;AAAA;AAAA,qCAGLC,CAAK;AAAA;AAAA;AAAA,wCAGFC,CAAQ;AAAA;AAAA;AAAA,yCAGPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAM7C,EACA,KAAK,EAAE,EACVV,EAAQ,mBAAmB,YAAaG,CAAM,EAC9C,IAAIQ,EAAe,eAAgB,CACjC,aAAc,MACd,aAAc,GAClB,CAAG,EAAE,QAAO,CACZ,CAEA,SAASC,GAAe,CACtBZ,EAAQ,UAAY,EACtB,CAEA,SAASa,GAAe,CACtBb,EAAQ,UAAY,8BACtB,CAEA,SAASc,GAAc,CACrBd,EAAQ,UAAY,EACtB,CC5CA,MAAMR,EAAa,SAAS,cAAc,OAAO,EAEjDD,EAAkBC,CAAU,EAE5BA,EAAW,iBAAiB,QAASJ,CAA0B,EAC/DI,EAAW,iBAAiB,SAAUuB,CAAY,EAElD,SAASA,EAAa1B,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,YAAY,MAAM,OAC3D,GAAIC,IAAU,GAAI,CAChBN,EAAY,2BAA2B,EACzC,MACD,CAEC4B,IACAC,IACFf,EAAUR,CAAK,EACZ,KAAK0B,GAAU,CACd,GAAIA,EAAO,QAAU,EAAG,CACtBhC,EACE,0EACV,EACU8B,IACFF,IACA,MACD,CACCE,IACFb,EAAce,CAAM,CAC1B,CAAK,EACA,MAAMC,GAAS,CACdjC,EAAY,SAASiC,CAAK,EAAE,CAClC,CAAK,EACA,QAAQ,IAAM,CACbzB,EAAW,MAAK,CACtB,CAAK,EACHH,EAAM,OAAO,QACbK,GACF"}